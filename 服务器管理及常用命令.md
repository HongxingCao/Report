# 服务器管理及常用命令

## 后台运行

* nohup matlab -nodesktop -nosplash -nodisplay < some.m >log.txt 2>&1 &
* nohup python < some.py >log.txt 2>&1 &

## 用户管理

- useradd -d /home/name -m -g iCAN -s /bin/bash name
- userdel -r name
- usermod -d /home/name name
- passwd name 
- cat /etc/passwd
- chmod  
- chgrp
- chown

```
[root@www ~]# vi addaccount.sh
#!/bin/bash
# 使用 script 来创建实验 quota 所需的环境
groupadd myquotagrp
for username in myquota1 myquota2 myquota3 myquota4 myquota5
do
        useradd -g myquotagrp $username
        echo "password" | passwd --stdin $username
done
[root@www ~]# sh addaccount.sh
```

## 磁盘管理

* df -h  查看磁盘空间
* du -s |sort -nr  查看文件夹占用，从大到小排序
* du -h -x –max-depth=1 查看目录占用空间大小
* dd if=/dev/zero of=bigfile bs=1M count=270
* 磁盘分区：见印象笔记

## 文件管理

- find /home -name "*haha*"
- rm -rf dir
- mv file1 file2
- cp -r dir1 dir2

## 网络管理

* netstat -lp|grep -i vnc

## matlab管理

### matlab论坛

https://www.ilovematlab.cn/forum.php?mod=home

### 无法打开MATLAB

Unable to start MATLAB. Relative path for preferences directory ('.matlab/R2017a') is not supported

export MATLAB_PREFDIR=~/.matlab/R2017a

### matlab修改路径

> /usr/local/MATLAB/R2018a/toolbox/local/pathdef.m

> matlab增加路径：在 $/matlab/toolbox/local 目录下创建startup.m文件，并在文件中编写：
>
> p=genpath('PATH OF YOU DIRECTORY');
>
> addpath(p);

> //1,使用export命令
>
> export PATH=$PATH:/opt/software/node-v8.9.3-linux-x64/bin/node
>
> //export使用方法为 export PATH=$PATH:路径1:路径2:路径n;$PATH为系统变量,表示之前所有设置的路径，如果不加则之前所有的路径都失效。所以必须加上。
>
> //2,修改配置文件/etc/profile
>
> vi /etc/profile
>
> 在里面加入:export PATH=$PATH:/opt/software/node-v8.9.3-linux-x64/bin/node
>
> //如果是修改用户主目录下的.bash_profile，则添加的环境变量只对该用户有效，修改/etc/profile对所有用户都生效。
>
> //修改好配置文件后执行source /etc/profile 或者 source /root/.bashrc使配置文件生效	

## vnc管理

### 无法启动服务：因为anaconda修改了PATH

解决方案：临时将PATH修改回来即可

存在问题：服务器重启后自动启动VNC服务可能会失败

永久性解决方案：将anaconda的PATH加到$PATH的后面。因为anaconda是用初始化脚本添加的PATH，所以暂时还不知道怎么弄。

## anaconda管理

## 并行计算

- 自己写并行代码，或使用并行工具包

  （可能磁盘读写速度、内存大小才是瓶颈吧）

## ftp共享文件服务

- 安装与修改配置：https://www.linuxidc.com/Linux/2017-06/144900.htm
- 无法创建目录：https://blog.csdn.net/kevin_stu_info/article/details/19161029
- 关闭selinux: https://blog.csdn.net/yuwenruli/article/details/8767160
- anon_umask=022

## git使用

* git status
* git branch
* git add .
* git commit -m "xxx"
* git pull
* git pull origin master
* git push origin v1
* git push --set-upstream origin master
* git clone 拉取代码
* git fetch 拉取分支
